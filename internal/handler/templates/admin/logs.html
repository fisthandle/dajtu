{{define "title"}}Logi - Admin dajtu{{end}}

{{define "content"}}
<h1>Logi</h1>

<table class="admin-table">
    <thead>
        <tr>
            <th>Plik</th>
            <th class="col-size">Rozmiar</th>
            <th class="col-size">Linie</th>
            <th class="col-last">Modyfikacja</th>
            <th class="col-actions">300</th>
            <th class="col-actions">1000</th>
            <th class="col-actions">all</th>
        </tr>
    </thead>
    <tbody>
        {{range .Files}}
        <tr>
            <td>{{.Name}}</td>
            <td class="col-size">{{formatBytes .Size}}</td>
            <td class="col-size">{{formatCount .Lines}}</td>
            <td class="col-last">{{formatDate .ModUnix}}</td>
            <td class="col-actions"><a href="/admin/logs?file={{urlquery .Name}}&lines=300">300</a></td>
            <td class="col-actions"><a href="/admin/logs?file={{urlquery .Name}}&lines=1000">1000</a></td>
            <td class="col-actions"><a href="/admin/logs?file={{urlquery .Name}}&lines=all">all</a></td>
        </tr>
        {{end}}
    </tbody>
</table>

{{if .Error}}
<div class="summary">{{.Error}}</div>
{{end}}

{{if .Selected}}
<h3>PodglÄ…d: {{.Selected}}</h3>
{{end}}
<pre style="white-space: pre-wrap; background: #0c0c0c; border: 1px solid #333; border-radius: 8px; padding: 15px; font-size: 12px; line-height: 1.4; max-height: 70vh; overflow: auto;">{{.Content}}</pre>
{{end}}

{{template "admin_base" .}}
